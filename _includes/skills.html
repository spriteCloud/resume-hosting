{% assign skills = site.data.data.skills %}
{% if skills %}
{% assign maxLevel = skills.toolset | map: "level" | max %}
<section class="skills-section section">

  <h2 class="section-title">
      <span class="fa-stack fa-xs">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-wrench fa-stack-1x fa-inverse"></i>
      </span>
    {{ skills.title }}
  </h2>

  <div class="skillset">

    {% for skill in skills.toolset %}
    <div class="item">
      <h3 class="level-title">{{ skill.name }}</h3>
      <div class="level-bar" style="max-width: 100%;">
        {% assign scaledLevel = (skill.level / maxLevel) * 100 | round %}
        <p>Scaled Level: {{ scaledLevel }}</p> <!-- Debug Output -->
        <div class="level-bar-inner" style="width: {{ scaledLevel }}%;">
          {{ scaledLevel }}%
        </div>
      </div><!--//level-bar-->
    </div><!--//item-->
    {% endfor %}

  </div>

</section><!--//skills-section-->
{% endif %}
